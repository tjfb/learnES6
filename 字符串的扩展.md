/*
 * @Author: fengbin 
 * @Date: 2022-09-15 10:29:25 
 * @Last Modified by: fengbin
 * @Last Modified time: 2022-09-15 14:35:21
 */

**å­—ç¬¦ä¸²çš„æ‰©å±•**
> https://wangdoc.com/es6/string.html

- [æ¨¡æ¿å­—ç¬¦ä¸²](#æ¨¡æ¿å­—ç¬¦ä¸²)
  - [æ³¨æ„](#æ³¨æ„)
  - [å®ä¾‹](#å®ä¾‹)
    - [æ¨¡æ¿ç¼–è¯‘](#æ¨¡æ¿ç¼–è¯‘)
    - [æ ‡ç­¾æ¨¡æ¿](#æ ‡ç­¾æ¨¡æ¿)
  - [é™åˆ¶](#é™åˆ¶)
- [unicodeè¡¨ç¤º](#unicodeè¡¨ç¤º)
- [](#)
- [è½¬ä¹‰](#è½¬ä¹‰)
- [JSON.stringify() çš„æ”¹é€ ](#jsonstringify-çš„æ”¹é€ )
- [å­—ç¬¦ä¸²æ–°å¢æ–¹æ³•](#å­—ç¬¦ä¸²æ–°å¢æ–¹æ³•)
  - [codePointAt()](#codepointat)
  - [normaliza()](#normaliza)
  - [includes(), startsWith(), endsWith()](#includes-startswith-endswith)
  - [repeat()](#repeat)
  - [padStart() padEnd()](#padstart-padend)
  - [trimStart() trimEnd()](#trimstart-trimend)
  - [at()](#at)
  - [replaceAll()](#replaceall)

# æ¨¡æ¿å­—ç¬¦ä¸²

ä¼ ç»Ÿä½¿ç”¨ + æ‹¼æ¥å­—ç¬¦ä¸²è¾“å‡ºï¼Œ
ES6æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆtemplate stringï¼‰æ˜¯å¢å¼ºç‰ˆçš„å­—ç¬¦ä¸²ï¼Œç”¨åå¼•å·ï¼ˆ`ï¼‰æ ‡è¯†ã€‚å®ƒå¯ä»¥å½“ä½œæ™®é€šå­—ç¬¦ä¸²ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²ï¼Œæˆ–è€…åœ¨å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡ã€‚
    // ä¼ ç»Ÿ

    $('#result').append(
    'There are <b>' + basket.count + '</b> ' +
    'items in your basket, ' +
    '<em>' + basket.onSale +
    '</em> are on sale!'
    );
    // æ¨¡æ¿å­—ç¬¦ä¸²

    $('#result').append(`
    There are <b>${basket.count}</b> items
    in your basket, <em>${basket.onSale}</em>
    are on sale!
    `);
    
å­—ç¬¦ä¸²åµŒå…¥å˜é‡  å°†å˜é‡åå†™åœ¨ ${} ä¸­

    // å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡
    let name = "Bob", time = "today";
    `Hello ${name}, how are you ${time}?`
## æ³¨æ„
â‘  åœ¨æ¨¡æ¿å­—ç¬¦ä¸²ä¸­éœ€è¦ä½¿ç”¨åå¼•å·ï¼Œåˆ™å‰é¢è¦ç”¨åæ–œæ è½¬ä¹‰ã€‚
â‘¡ æ‰€æœ‰æ¨¡æ¿å­—ç¬¦ä¸²çš„ç©ºæ ¼å’Œæ¢è¡Œéƒ½æ˜¯è¢«ä¿ç•™çš„ï¼Œå¦‚æœä½ ä¸æƒ³è¦è¿™ä¸ªæ¢è¡Œï¼Œå¯ä»¥ä½¿ç”¨trimæ–¹æ³•æ¶ˆé™¤å®ƒã€‚
â‘¢ æ¨¡æ¿å­—ç¬¦ä¸²ä¹‹ä¸­è¿˜èƒ½è°ƒç”¨å‡½æ•°ã€‚
    function f() {
        return 'helloworld'
    }
    ` this is ${f()} calls`
## å®ä¾‹
### æ¨¡æ¿ç¼–è¯‘

    // ç¼–è¯‘å‡½æ•°compile
    function compile(template){
    const evalExpr = /<%=(.+?)%>/g;
    const expr = /<%([\s\S]+?)%>/g;

    template = template
        .replace(evalExpr, '`); \n  echo( $1 ); \n  echo(`')
        .replace(expr, '`); \n $1 \n  echo(`');

    template = 'echo(`' + template + '`);';

    let script =
    `(function parse(data){
        let output = "";

        function echo(html){
        output += html;
        }

        ${ template }

        return output;
    })`;

    return script;
    }
    // å¸¸è§„æ¨¡æ¿ã€‚è¯¥æ¨¡æ¿ä½¿ç”¨<%...%>æ”¾ç½® JavaScript ä»£ç ï¼Œä½¿ç”¨<%= ... %>è¾“å‡º JavaScript è¡¨è¾¾å¼ã€‚
    let template = `
    <ul>
    <% for(let i=0; i < data.supplies.length; i++) { %>
        <li><%= data.supplies[i] %></li>
    <% } %>
    </ul>
    `;
    // å‡½æ•°ç”¨æ³•
    let parse = eval(compile(template));
    div.innerHTML = parse({ supplies: [ "broom", "mop", "cleaner" ] });
    // 
![image](https://github.com/tjfb/learnES6/blob/main/img/compile.png)

### æ ‡ç­¾æ¨¡æ¿

æ¨¡æ¿å­—ç¬¦ä¸²çš„åŠŸèƒ½ï¼Œä¸ä»…ä»…æ˜¯ä¸Šé¢è¿™äº›ã€‚å®ƒå¯ä»¥ç´§è·Ÿåœ¨ä¸€ä¸ªå‡½æ•°ååé¢ï¼Œè¯¥å‡½æ•°å°†è¢«è°ƒç”¨æ¥å¤„ç†è¿™ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ã€‚è¿™è¢«ç§°ä¸ºâ€œæ ‡ç­¾æ¨¡æ¿â€åŠŸèƒ½ï¼ˆtagged templateï¼‰ã€‚

    alert`hello`
    // ç­‰åŒäº
    alert(['hello'])
æ ‡ç­¾æ¨¡æ¿å…¶å®ä¸æ˜¯æ¨¡æ¿ï¼Œè€Œæ˜¯å‡½æ•°è°ƒç”¨çš„ä¸€ç§ç‰¹æ®Šå½¢å¼ã€‚â€œæ ‡ç­¾â€æŒ‡çš„å°±æ˜¯å‡½æ•°ï¼Œç´§è·Ÿåœ¨åé¢çš„æ¨¡æ¿å­—ç¬¦ä¸²å°±æ˜¯å®ƒçš„å‚æ•°ã€‚

ä½†æ˜¯ï¼Œå¦‚æœæ¨¡æ¿å­—ç¬¦é‡Œé¢æœ‰å˜é‡ï¼Œå°±ä¸æ˜¯ç®€å•çš„è°ƒç”¨äº†ï¼Œè€Œæ˜¯ä¼šå°†æ¨¡æ¿å­—ç¬¦ä¸²å…ˆå¤„ç†æˆå¤šä¸ªå‚æ•°ï¼Œå†è°ƒç”¨å‡½æ•°ã€‚

    let a = 5;
    let b = 10;

    tag`Hello ${ a + b } world ${ a * b }`;
    // ç­‰åŒäº
    tag(['Hello ', ' world ', ''], 15, 50);

æ ‡ç­¾æ¨¡æ¿çš„ä¸€ä¸ªé‡è¦åº”ç”¨ï¼Œå°±æ˜¯è¿‡æ»¤ HTML å­—ç¬¦ä¸²ï¼Œé˜²æ­¢ç”¨æˆ·è¾“å…¥æ¶æ„å†…å®¹ã€‚
æ ‡ç­¾æ¨¡æ¿çš„å¦ä¸€ä¸ªåº”ç”¨ï¼Œå°±æ˜¯å¤šè¯­è¨€è½¬æ¢ï¼ˆå›½é™…åŒ–å¤„ç†ï¼‰ã€‚

## é™åˆ¶


# unicodeè¡¨ç¤º

# 

# è½¬ä¹‰

JavaScript è§„å®šæœ‰5ä¸ªå­—ç¬¦ï¼Œä¸èƒ½åœ¨å­—ç¬¦ä¸²é‡Œé¢ç›´æ¥ä½¿ç”¨ï¼Œåªèƒ½ä½¿ç”¨è½¬ä¹‰å½¢å¼ã€‚

U+005Cï¼šåæ–œæ ï¼ˆreverse solidus)
U+000Dï¼šå›è½¦ï¼ˆcarriage returnï¼‰
U+2028ï¼šè¡Œåˆ†éš”ç¬¦ï¼ˆline separatorï¼‰
U+2029ï¼šæ®µåˆ†éš”ç¬¦ï¼ˆparagraph separatorï¼‰
U+000Aï¼šæ¢è¡Œç¬¦ï¼ˆline feedï¼‰
ä¸¾ä¾‹æ¥è¯´ï¼Œå­—ç¬¦ä¸²é‡Œé¢ä¸èƒ½ç›´æ¥åŒ…å«åæ–œæ ï¼Œä¸€å®šè¦è½¬ä¹‰å†™æˆ\\æˆ–è€…\u005cã€‚

JSON æ ¼å¼å…è®¸å­—ç¬¦ä¸²é‡Œé¢ç›´æ¥ä½¿ç”¨ U+2028ï¼ˆè¡Œåˆ†éš”ç¬¦ï¼‰å’Œ U+2029ï¼ˆæ®µåˆ†éš”ç¬¦ï¼‰ã€‚è¿™æ ·ä¸€æ¥ï¼ŒæœåŠ¡å™¨è¾“å‡ºçš„ JSON è¢«JSON.parseè§£æï¼Œå°±æœ‰å¯èƒ½ç›´æ¥æŠ¥é”™ã€‚

    const json = '"\u2028"';
    JSON.parse(json); // å¯èƒ½æŠ¥é”™
JSON æ ¼å¼å·²ç»å†»ç»“ï¼ˆRFC 7159ï¼‰ï¼Œæ²¡æ³•ä¿®æ”¹äº†ã€‚ä¸ºäº†æ¶ˆé™¤è¿™ä¸ªæŠ¥é”™ï¼ŒES2019 å…è®¸ JavaScript å­—ç¬¦ä¸²ç›´æ¥è¾“å…¥ U+2028ï¼ˆè¡Œåˆ†éš”ç¬¦ï¼‰å’Œ U+2029ï¼ˆæ®µåˆ†éš”ç¬¦ï¼‰ã€‚

    const PS = eval("'\u2029'");   
æ ¹æ®è¿™ä¸ªææ¡ˆï¼Œä¸Šé¢çš„ä»£ç ä¸ä¼šæŠ¥é”™ã€‚
æ³¨æ„ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²ç°åœ¨å°±å…è®¸ç›´æ¥è¾“å…¥è¿™ä¸¤ä¸ªå­—ç¬¦ã€‚å¦å¤–ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¾ç„¶ä¸å…è®¸ç›´æ¥è¾“å…¥è¿™ä¸¤ä¸ªå­—ç¬¦ï¼Œè¿™æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œå› ä¸º JSON æœ¬æ¥å°±ä¸å…è®¸ç›´æ¥åŒ…å«æ­£åˆ™è¡¨è¾¾å¼ã€‚

# JSON.stringify() çš„æ”¹é€ 

æ ¹æ®æ ‡å‡†ï¼ŒJSON æ•°æ®å¿…é¡»æ˜¯ UTF-8 ç¼–ç ã€‚ä½†æ˜¯ï¼Œç°åœ¨çš„JSON.stringify()æ–¹æ³•æœ‰å¯èƒ½è¿”å›ä¸ç¬¦åˆ UTF-8 æ ‡å‡†çš„å­—ç¬¦ä¸²ã€‚

å…·ä½“æ¥è¯´ï¼ŒUTF-8 æ ‡å‡†è§„å®šï¼Œ0xD800åˆ°0xDFFFä¹‹é—´çš„ç ç‚¹ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œå¿…é¡»é…å¯¹ä½¿ç”¨ã€‚æ¯”å¦‚ï¼Œ\uD834\uDF06æ˜¯ä¸¤ä¸ªç ç‚¹ï¼Œä½†æ˜¯å¿…é¡»æ”¾åœ¨ä¸€èµ·é…å¯¹ä½¿ç”¨ï¼Œä»£è¡¨å­—ç¬¦ğŒ†ã€‚è¿™æ˜¯ä¸ºäº†è¡¨ç¤ºç ç‚¹å¤§äº0xFFFFçš„å­—ç¬¦çš„ä¸€ç§å˜é€šæ–¹æ³•ã€‚å•ç‹¬ä½¿ç”¨\uD834å’Œ\uDF06è¿™ä¸¤ä¸ªç ç‚¹æ˜¯ä¸åˆæ³•çš„ï¼Œæˆ–è€…é¢ å€’é¡ºåºä¹Ÿä¸è¡Œï¼Œå› ä¸º\uDF06\uD834å¹¶æ²¡æœ‰å¯¹åº”çš„å­—ç¬¦ã€‚

JSON.stringify()çš„é—®é¢˜åœ¨äºï¼Œå®ƒå¯èƒ½è¿”å›0xD800åˆ°0xDFFFä¹‹é—´çš„å•ä¸ªç ç‚¹ã€‚

    JSON.stringify('\u{D834}') // "\u{D834}" 
ä¸ºäº†ç¡®ä¿è¿”å›çš„æ˜¯åˆæ³•çš„ UTF-8 å­—ç¬¦ï¼ŒES2019 æ”¹å˜äº†JSON.stringify()çš„è¡Œä¸ºã€‚å¦‚æœé‡åˆ°0xD800åˆ°0xDFFFä¹‹é—´çš„å•ä¸ªç ç‚¹ï¼Œæˆ–è€…ä¸å­˜åœ¨çš„é…å¯¹å½¢å¼ï¼Œå®ƒä¼šè¿”å›è½¬ä¹‰å­—ç¬¦ä¸²ï¼Œç•™ç»™åº”ç”¨è‡ªå·±å†³å®šä¸‹ä¸€æ­¥çš„å¤„ç†ã€‚

    JSON.stringify('\u{D834}') // ""\\uD834""
    JSON.stringify('\uDF06\uD834') // ""\\udf06\\ud834""

# å­—ç¬¦ä¸²æ–°å¢æ–¹æ³•

## codePointAt()
codePointAt()æ–¹æ³•æ˜¯æµ‹è¯•ä¸€ä¸ªå­—ç¬¦ç”±ä¸¤ä¸ªå­—èŠ‚è¿˜æ˜¯ç”±å››ä¸ªå­—èŠ‚ç»„æˆçš„æœ€ç®€å•æ–¹æ³•ã€‚

    function is32Bit(c) {
    return c.codePointAt(0) > 0xFFFF;
    }

    is32Bit("ğ ®·") // true
    is32Bit("a") // false

## normaliza()
ES6 æä¾›å­—ç¬¦ä¸²å®ä¾‹çš„normalize()æ–¹æ³•ï¼Œç”¨æ¥å°†å­—ç¬¦çš„ä¸åŒè¡¨ç¤ºæ–¹æ³•ç»Ÿä¸€ä¸ºåŒæ ·çš„å½¢å¼ï¼Œè¿™ç§°ä¸º Unicode æ­£è§„åŒ–ã€‚

## includes(), startsWith(), endsWith()

ä¼ ç»Ÿä¸Šï¼ŒJavaScript åªæœ‰indexOfæ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¥ç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚ES6 åˆæä¾›äº†ä¸‰ç§æ–°æ–¹æ³•ã€‚

includes()ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°äº†å‚æ•°å­—ç¬¦ä¸²ã€‚
startsWith()ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å¤´éƒ¨ã€‚
endsWith()ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚
    let s = 'Hello world!';

    s.startsWith('Hello') // true
    s.endsWith('!') // true
    s.includes('o') // true
è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ”¯æŒç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå¼€å§‹æœç´¢çš„ä½ç½®ã€‚

    let s = 'Hello world!';

    s.startsWith('world', 6) // true
    s.endsWith('Hello', 5) // true
    s.includes('Hello', 6) // false
ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°næ—¶ï¼ŒendsWithçš„è¡Œä¸ºä¸å…¶ä»–ä¸¤ä¸ªæ–¹æ³•æœ‰æ‰€ä¸åŒã€‚å®ƒé’ˆå¯¹å‰nä¸ªå­—ç¬¦ï¼Œè€Œå…¶ä»–ä¸¤ä¸ªæ–¹æ³•é’ˆå¯¹ä»ç¬¬nä¸ªä½ç½®ç›´åˆ°å­—ç¬¦ä¸²ç»“æŸã€‚

## repeat()

repeatæ–¹æ³•è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå°†åŸå­—ç¬¦ä¸²é‡å¤næ¬¡ã€‚

    'x'.repeat(3) // "xxx"
    'hello'.repeat(2) // "hellohello"
    'na'.repeat(0) // ""
å‚æ•°å¦‚æœæ˜¯å°æ•°ï¼Œä¼šè¢«å–æ•´ã€‚

    'na'.repeat(2.9) // "nana"
å¦‚æœrepeatçš„å‚æ•°æ˜¯è´Ÿæ•°æˆ–è€…Infinityï¼Œä¼šæŠ¥é”™ã€‚

    'na'.repeat(Infinity)
    // RangeError
    'na'.repeat(-1)
    // RangeError
ä½†æ˜¯ï¼Œå¦‚æœå‚æ•°æ˜¯ 0 åˆ°-1 ä¹‹é—´çš„å°æ•°ï¼Œåˆ™ç­‰åŒäº 0ï¼Œè¿™æ˜¯å› ä¸ºä¼šå…ˆè¿›è¡Œå–æ•´è¿ç®—ã€‚0 åˆ°-1 ä¹‹é—´çš„å°æ•°ï¼Œå–æ•´ä»¥åç­‰äº-0ï¼Œrepeatè§†åŒä¸º 0ã€‚

    'na'.repeat(-0.9) // ""
å‚æ•°NaNç­‰åŒäº 0ã€‚

    'na'.repeat(NaN) // ""
å¦‚æœrepeatçš„å‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™ä¼šå…ˆè½¬æ¢æˆæ•°å­—ã€‚

    'na'.repeat('na') // ""
    'na'.repeat('3') // "nanana"

## padStart() padEnd()

ES2017 å¼•å…¥äº†å­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦çš„åŠŸèƒ½ã€‚å¦‚æœæŸä¸ªå­—ç¬¦ä¸²ä¸å¤ŸæŒ‡å®šé•¿åº¦ï¼Œä¼šåœ¨å¤´éƒ¨æˆ–å°¾éƒ¨è¡¥å…¨ã€‚padStart()ç”¨äºå¤´éƒ¨è¡¥å…¨ï¼ŒpadEnd()ç”¨äºå°¾éƒ¨è¡¥å…¨ã€‚

    'x'.padStart(5, 'ab') // 'ababx'
    'x'.padStart(4, 'ab') // 'abax'

    'x'.padEnd(5, 'ab') // 'xabab'
    'x'.padEnd(4, 'ab') // 'xaba'
ä¸Šé¢ä»£ç ä¸­ï¼ŒpadStart()å’ŒpadEnd()ä¸€å…±æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²è¡¥å…¨ç”Ÿæ•ˆçš„æœ€å¤§é•¿åº¦ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç”¨æ¥è¡¥å…¨çš„å­—ç¬¦ä¸²ã€‚

å¦‚æœåŸå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œç­‰äºæˆ–å¤§äºæœ€å¤§é•¿åº¦ï¼Œåˆ™å­—ç¬¦ä¸²è¡¥å…¨ä¸ç”Ÿæ•ˆï¼Œè¿”å›åŸå­—ç¬¦ä¸²ã€‚

    'xxx'.padStart(2, 'ab') // 'xxx'
    'xxx'.padEnd(2, 'ab') // 'xxx'
å¦‚æœç”¨æ¥è¡¥å…¨çš„å­—ç¬¦ä¸²ä¸åŸå­—ç¬¦ä¸²ï¼Œä¸¤è€…çš„é•¿åº¦ä¹‹å’Œè¶…è¿‡äº†æœ€å¤§é•¿åº¦ï¼Œåˆ™ä¼šæˆªå»è¶…å‡ºä½æ•°çš„è¡¥å…¨å­—ç¬¦ä¸²ã€‚

    'abc'.padStart(10, '0123456789')
    // '0123456abc'
å¦‚æœçœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œé»˜è®¤ä½¿ç”¨ç©ºæ ¼è¡¥å…¨é•¿åº¦ã€‚

    'x'.padStart(4) // '   x'
    'x'.padEnd(4) // 'x   '
padStart()çš„å¸¸è§ç”¨é€”æ˜¯ä¸ºæ•°å€¼è¡¥å…¨æŒ‡å®šä½æ•°ã€‚ä¸‹é¢ä»£ç ç”Ÿæˆ 10 ä½çš„æ•°å€¼å­—ç¬¦ä¸²ã€‚

    '1'.padStart(10, '0') // "0000000001"
    '12'.padStart(10, '0') // "0000000012"
    '123456'.padStart(10, '0') // "0000123456"
å¦ä¸€ä¸ªç”¨é€”æ˜¯æç¤ºå­—ç¬¦ä¸²æ ¼å¼ã€‚

    '12'.padStart(10, 'YYYY-MM-DD') // "YYYY-MM-12"
    '09-12'.padStart(10, 'YYYY-MM-DD') // "YYYY-09-12"

## trimStart() trimEnd()

ES2019 å¯¹å­—ç¬¦ä¸²å®ä¾‹æ–°å¢äº†trimStart()å’ŒtrimEnd()è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚å®ƒä»¬çš„è¡Œä¸ºä¸trim()ä¸€è‡´ï¼ŒtrimStart()æ¶ˆé™¤å­—ç¬¦ä¸²å¤´éƒ¨çš„ç©ºæ ¼ï¼ŒtrimEnd()æ¶ˆé™¤å°¾éƒ¨çš„ç©ºæ ¼ã€‚å®ƒä»¬è¿”å›çš„éƒ½æ˜¯æ–°å­—ç¬¦ä¸²ï¼Œä¸ä¼šä¿®æ”¹åŸå§‹å­—ç¬¦ä¸²ã€‚

    const s = '  abc  ';

    s.trim() // "abc"
    s.trimStart() // "abc  "
    s.trimEnd() // "  abc"

é™¤äº†ç©ºæ ¼é”®ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•å¯¹å­—ç¬¦ä¸²å¤´éƒ¨ï¼ˆæˆ–å°¾éƒ¨ï¼‰çš„ tab é”®ã€æ¢è¡Œç¬¦ç­‰ä¸å¯è§çš„ç©ºç™½ç¬¦å·ä¹Ÿæœ‰æ•ˆã€‚
æµè§ˆå™¨è¿˜éƒ¨ç½²äº†é¢å¤–çš„ä¸¤ä¸ªæ–¹æ³•ï¼ŒtrimLeft()æ˜¯trimStart()çš„åˆ«åï¼ŒtrimRight()æ˜¯trimEnd()çš„åˆ«åã€‚

## at()

    'hello'.at(1) // 'e'

## replaceAll()

å†å²ä¸Šï¼Œå­—ç¬¦ä¸²çš„å®ä¾‹æ–¹æ³•replace()åªèƒ½æ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…ã€‚

'aabbcc'.replace('b', '_')
// 'aa_bcc'
ä¸Šé¢ä¾‹å­ä¸­ï¼Œreplace()åªå°†ç¬¬ä¸€ä¸ªbæ›¿æ¢æˆäº†ä¸‹åˆ’çº¿ã€‚

å¦‚æœè¦æ›¿æ¢æ‰€æœ‰çš„åŒ¹é…ï¼Œä¸å¾—ä¸ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„gä¿®é¥°ç¬¦ã€‚

'aabbcc'.replace(/b/g, '_')
// 'aa__cc'
æ­£åˆ™è¡¨è¾¾å¼æ¯•ç«Ÿä¸æ˜¯é‚£ä¹ˆæ–¹ä¾¿å’Œç›´è§‚ï¼ŒES2021 å¼•å…¥äº†replaceAll()æ–¹æ³•ï¼Œå¯ä»¥ä¸€æ¬¡æ€§æ›¿æ¢æ‰€æœ‰åŒ¹é…ã€‚

'aabbcc'.replaceAll('b', '_')
// 'aa__cc'
å®ƒçš„ç”¨æ³•ä¸replace()ç›¸åŒï¼Œè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œä¸ä¼šæ”¹å˜åŸå­—ç¬¦ä¸²ã€‚

String.prototype.replaceAll(searchValue, replacement)
ä¸Šé¢ä»£ç ä¸­ï¼ŒsearchValueæ˜¯æœç´¢æ¨¡å¼ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå…¨å±€çš„æ­£åˆ™è¡¨è¾¾å¼ï¼ˆå¸¦æœ‰gä¿®é¥°ç¬¦ï¼‰ã€‚

å¦‚æœsearchValueæ˜¯ä¸€ä¸ªä¸å¸¦æœ‰gä¿®é¥°ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼ŒreplaceAll()ä¼šæŠ¥é”™ã€‚è¿™ä¸€ç‚¹è·Ÿreplace()ä¸åŒã€‚

// ä¸æŠ¥é”™
'aabbcc'.replace(/b/, '_')

// æŠ¥é”™
'aabbcc'.replaceAll(/b/, '_')
ä¸Šé¢ä¾‹å­ä¸­ï¼Œ/b/ä¸å¸¦æœ‰gä¿®é¥°ç¬¦ï¼Œä¼šå¯¼è‡´replaceAll()æŠ¥é”™ã€‚

replaceAll()çš„ç¬¬äºŒä¸ªå‚æ•°replacementæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ›¿æ¢çš„æ–‡æœ¬ï¼Œå…¶ä¸­å¯ä»¥ä½¿ç”¨ä¸€äº›ç‰¹æ®Šå­—ç¬¦ä¸²ã€‚

$&ï¼šåŒ¹é…çš„å­—ç¬¦ä¸²ã€‚
$`ï¼šåŒ¹é…ç»“æœå‰é¢çš„æ–‡æœ¬ã€‚
$'ï¼šåŒ¹é…ç»“æœåé¢çš„æ–‡æœ¬ã€‚
$nï¼šåŒ¹é…æˆåŠŸçš„ç¬¬nç»„å†…å®¹ï¼Œnæ˜¯ä»1å¼€å§‹çš„è‡ªç„¶æ•°ã€‚è¿™ä¸ªå‚æ•°ç”Ÿæ•ˆçš„å‰ææ˜¯ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚
$$ï¼šæŒ‡ä»£ç¾å…ƒç¬¦å·$ã€‚
ä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­ã€‚

// $& è¡¨ç¤ºåŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œå³`b`æœ¬èº«
// æ‰€ä»¥è¿”å›ç»“æœä¸åŸå­—ç¬¦ä¸²ä¸€è‡´
'abbc'.replaceAll('b', '$&')
// 'abbc'

// $` è¡¨ç¤ºåŒ¹é…ç»“æœä¹‹å‰çš„å­—ç¬¦ä¸²
// å¯¹äºç¬¬ä¸€ä¸ª`b`ï¼Œ$` æŒ‡ä»£`a`
// å¯¹äºç¬¬äºŒä¸ª`b`ï¼Œ$` æŒ‡ä»£`ab`
'abbc'.replaceAll('b', '$`')
// 'aaabc'

// $' è¡¨ç¤ºåŒ¹é…ç»“æœä¹‹åçš„å­—ç¬¦ä¸²
// å¯¹äºç¬¬ä¸€ä¸ª`b`ï¼Œ$' æŒ‡ä»£`bc`
// å¯¹äºç¬¬äºŒä¸ª`b`ï¼Œ$' æŒ‡ä»£`c`
'abbc'.replaceAll('b', `$'`)
// 'abccc'

// $1 è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªç»„åŒ¹é…ï¼ŒæŒ‡ä»£`ab`
// $2 è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬äºŒä¸ªç»„åŒ¹é…ï¼ŒæŒ‡ä»£`bc`
'abbc'.replaceAll(/(ab)(bc)/g, '$2$1')
// 'bcab'

// $$ æŒ‡ä»£ $
'abc'.replaceAll('b', '$$')
// 'a$c'
replaceAll()çš„ç¬¬äºŒä¸ªå‚æ•°replacementé™¤äº†ä¸ºå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„è¿”å›å€¼å°†æ›¿æ¢æ‰ç¬¬ä¸€ä¸ªå‚æ•°searchValueåŒ¹é…çš„æ–‡æœ¬ã€‚

'aabbcc'.replaceAll('b', () => '_')
// 'aa__cc'
ä¸Šé¢ä¾‹å­ä¸­ï¼ŒreplaceAll()çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„è¿”å›å€¼ä¼šæ›¿æ¢æ‰æ‰€æœ‰bçš„åŒ¹é…ã€‚

è¿™ä¸ªæ›¿æ¢å‡½æ•°å¯ä»¥æ¥å—å¤šä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ•æ‰åˆ°çš„åŒ¹é…å†…å®¹ï¼Œç¬¬äºŒä¸ªå‚æ•°æ•æ‰åˆ°æ˜¯ç»„åŒ¹é…ï¼ˆæœ‰å¤šå°‘ä¸ªç»„åŒ¹é…ï¼Œå°±æœ‰å¤šå°‘ä¸ªå¯¹åº”çš„å‚æ•°ï¼‰ã€‚æ­¤å¤–ï¼Œæœ€åè¿˜å¯ä»¥æ·»åŠ ä¸¤ä¸ªå‚æ•°ï¼Œå€’æ•°ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ•æ‰åˆ°çš„å†…å®¹åœ¨æ•´ä¸ªå­—ç¬¦ä¸²ä¸­çš„ä½ç½®ï¼Œæœ€åä¸€ä¸ªå‚æ•°æ˜¯åŸå­—ç¬¦ä¸²ã€‚

const str = '123abc456';
const regex = /(\d+)([a-z]+)(\d+)/g;

function replacer(match, p1, p2, p3, offset, string) {
  return [p1, p2, p3].join(' - ');
}

str.replaceAll(regex, replacer)
// 123 - abc - 456
ä¸Šé¢ä¾‹å­ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼æœ‰ä¸‰ä¸ªç»„åŒ¹é…ï¼Œæ‰€ä»¥replacer()å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°matchæ˜¯æ•æ‰åˆ°çš„åŒ¹é…å†…å®¹ï¼ˆå³å­—ç¬¦ä¸²123abc456ï¼‰ï¼Œåé¢ä¸‰ä¸ªå‚æ•°p1ã€p2ã€p3åˆ™ä¾æ¬¡ä¸ºä¸‰ä¸ªç»„åŒ¹é…